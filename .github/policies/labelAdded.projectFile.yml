id: labelAdded.projectFile
name: GitOps.PullRequestIssueManagement
description: GitOps.PullRequestIssueManagement primitive
owner:
resource: repository
disabled: false
where:
configuration:
  resourceManagementConfiguration:
    eventResponderTasks:
      - description: >-
          When the label "Project-File" is added to a pull request
          Add the PR specific reply notifying the issue author
          Assign to the primary and secondary ICM Users
          Label with Needs-Attention
        if:
          - payloadType: Pull_Request
          - labelAdded:
              label: Project-File
        then:
          - addReply:
              reply: >-
                ${issueAuthor},


                Changes to one or more files in your PR require authorization to modify. This PR has been assigned to our on call staff to evaluate.


                Template: msftbot/requiresApproval/MSFT
          - assignIcmUsers:
              teamId: 85579
              primary: True
              secondary: True
          - addLabel:
              label: Needs-Attention
        # The policy service should trigger even when the label was added by the policy service
        triggerOnOwnActions: true
onFailure:
onSuccess:
