{
  "version": "1.0",
  "tasks": [
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "prMatchesPattern",
              "parameters": {
                "permissions": "write",
                "matchRegex": "DevOpsPipelineDefinitions/*"
              }
            },
            {
              "operator": "or",
              "operands": [
                {
                  "name": "activitySenderHasPermissions",
                  "parameters": {
                    "matchRegex": "DevOpsPipelineDefinitions/*",
                    "permissions": "read"
                  }
                },
                {
                  "name": "activitySenderHasPermissions",
                  "parameters": {
                    "permissions": "none"
                  }
                }
              ]
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "1 PR Request includes Yaml pipeline",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "reviewer": "Greetings: You cannot make a change to the validation-pipeline.yml.  Please file an issue so that we can discuss.",
              "comment": "Hello @${issueAuthor} ,\nSorry we cannot process ${number} because you are changing validation-pipeline.yaml.  Please remove that file from your PR.  If you would like to discuss changes to validation-pipeline.yml, please file an issue."
            }
          },
          {
            "name": "assignToUser",
            "parameters": {
              "user": "PR Author"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "or",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Manifest-Validation-Error"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Pipeline: Manifest validation error",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nThe package manager bot determined that the metadata was not compliant.  \n\nPlease verify the manifest file is compliant with the package manager [1.0 manifest specification](https://github.com/microsoft/winget-cli/blob/master/doc/ManifestSpecv1.0.md).\nMake sure the ID is of the form publisher.appname and that the folder structure is manifests\\partition\\publisher\\appname\\version.\nNote: The path and \"PackageIdentifier\" are case sensitive.\nBe sure to use a tool like VSCode  (https://code.visualstudio.com/) to make sure the manifest YAML syntax is correct. \n\nYou could also try our [Windows Package Manager Manifest Creator Preview](https://github.com/microsoft/winget-create). \n\nFor details on the specific error, see the details link below in the build pipeline.  "
            }
          },
          {
            "name": "assignToUser",
            "parameters": {
              "user": "PR Author"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "or",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "URL-Validation-Error"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Pipeline: SmartScreen Failed",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nThe package manager bot determined there was an issue with some of the URLs included in the manifest file.  Please check the pull request for more details and make sure the url is correct."
            }
          },
          {
            "name": "assignToUser",
            "parameters": {
              "user": "PR Author"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Azure-Pipeline-Passed"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "or",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Binary-Validation-Error"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Pipeline: ESRP Failed",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nThe package manager bot determined there was an issue with one of the installers listed in the url field, and cannot continue.   \n\nThe application included in this pull request failed to pass the [Installers Scan](https://docs.microsoft.com/en-us/windows/package-manager/package/winget-validation) test. This test is designed to ensure that the application installs on all environments without warnings. For more details on this error, see [Binary validation errors](https://docs.microsoft.com/en-us/windows/package-manager/package/binary-validation-errors).  Please check to ensure the installer URL is correct and update the URL and the Hash if a change is made."
            }
          },
          {
            "name": "assignToUser",
            "parameters": {
              "user": "PR Author"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "or",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "PullRequest-Error"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "PipeLine: PR is invalid",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor}, \nThe package manager bot determined there was an issue with the pull request.  Make sure the manifest files are under the manifests\\partition\\publisher\\appname\\version directory. The partition of the path must be the first letter of the publisher in lower-case.\n\nExample:\nPath: manifests / m / Microsoft / WindowsTerminal / 1.6.10571.0 / WindowsTerminal.yaml\n\nFor details on the error, see the details link below in the build pipeline.  \n\nYou may also try the [Windows Package Manager Manifest Creator](https://github.com/microsoft/winget-create)\n\n"
            }
          },
          {
            "name": "assignToUser",
            "parameters": {
              "groupId": "",
              "user": "PR Author"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "CodeFlowLink",
      "subCapability": "CodeFlowLink",
      "version": "1.0",
      "config": {
        "taskName": "Add a CodeFlow link to new pull requests"
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestReviewResponder",
      "version": "1.0",
      "config": {
        "taskName": "Add needs author feedback label to pull requests when changes are requested",
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "isAction",
              "parameters": {
                "action": "submitted"
              }
            },
            {
              "name": "isReviewState",
              "parameters": {
                "state": "changes_requested"
              }
            }
          ]
        },
        "actions": [
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          },
          {
            "name": "assignToUser",
            "parameters": {
              "user": {
                "type": "prAuthor"
              }
            }
          },
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor}, \nThe package manager bot determined changes have been requested to your PR."
            }
          }
        ],
        "eventType": "pull_request",
        "eventNames": [
          "pull_request_review"
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestCommentResponder",
      "version": "1.0",
      "config": {
        "taskName": "Remove needs author feedback label when the author comments on a pull request",
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "isActivitySender",
              "parameters": {
                "user": {
                  "type": "author"
                }
              }
            },
            {
              "name": "hasLabel",
              "parameters": {
                "label": "Needs-Author-Feedback"
              }
            }
          ]
        },
        "actions": [
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          }
        ],
        "eventType": "pull_request",
        "eventNames": [
          "issue_comment"
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestReviewResponder",
      "version": "1.0",
      "config": {
        "taskName": "Remove needs author feedback label when the author responds to a pull request review comment",
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "isActivitySender",
              "parameters": {
                "user": {
                  "type": "author"
                }
              }
            },
            {
              "name": "hasLabel",
              "parameters": {
                "label": "Needs-Author-Feedback"
              }
            }
          ]
        },
        "actions": [
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          }
        ],
        "eventType": "pull_request",
        "eventNames": [
          "pull_request_review"
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "taskName": "Remove no recent activity label from pull requests",
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "operator": "not",
              "operands": [
                {
                  "name": "isAction",
                  "parameters": {
                    "action": "closed"
                  }
                }
              ]
            },
            {
              "name": "hasLabel",
              "parameters": {
                "label": "No-Recent-Activity"
              }
            }
          ]
        },
        "actions": [
          {
            "name": "removeLabel",
            "parameters": {
              "label": "No-Recent-Activity"
            }
          }
        ],
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestCommentResponder",
      "version": "1.0",
      "config": {
        "taskName": "Remove no recent activity label when a pull request is commented on",
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "hasLabel",
              "parameters": {
                "label": "No-Recent-Activity"
              }
            }
          ]
        },
        "actions": [
          {
            "name": "removeLabel",
            "parameters": {
              "label": "No-Recent-Activity"
            }
          }
        ],
        "eventType": "pull_request",
        "eventNames": [
          "issue_comment"
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestReviewResponder",
      "version": "1.0",
      "config": {
        "taskName": "Remove no recent activity label when a pull request is reviewed",
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "hasLabel",
              "parameters": {
                "label": "No-Recent-Activity"
              }
            }
          ]
        },
        "actions": [
          {
            "name": "removeLabel",
            "parameters": {
              "label": "No-Recent-Activity"
            }
          }
        ],
        "eventType": "pull_request",
        "eventNames": [
          "pull_request_review"
        ]
      }
    },
    {
      "taskType": "scheduled",
      "capabilityId": "ScheduledSearch",
      "subCapability": "ScheduledSearch",
      "version": "1.1",
      "config": {
        "taskName": "Close stale pull requests",
        "frequency": [
          {
            "weekDay": 0,
            "hours": [
              4,
              10,
              16,
              22
            ]
          },
          {
            "weekDay": 1,
            "hours": [
              4,
              10,
              16,
              22
            ]
          },
          {
            "weekDay": 2,
            "hours": [
              4,
              10,
              16,
              22
            ]
          },
          {
            "weekDay": 3,
            "hours": [
              4,
              10,
              16,
              22
            ]
          },
          {
            "weekDay": 4,
            "hours": [
              4,
              10,
              16,
              22
            ]
          },
          {
            "weekDay": 5,
            "hours": [
              4,
              10,
              16,
              22
            ]
          },
          {
            "weekDay": 6,
            "hours": [
              4,
              10,
              16,
              22
            ]
          }
        ],
        "searchTerms": [
          {
            "name": "isPr",
            "parameters": {}
          },
          {
            "name": "isOpen",
            "parameters": {}
          },
          {
            "name": "hasLabel",
            "parameters": {
              "label": "No-Recent-Activity"
            }
          },
          {
            "name": "noActivitySince",
            "parameters": {
              "days": 7
            }
          },
          {
            "name": "hasLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ],
        "actions": [
          {
            "name": "closeIssue",
            "parameters": {}
          }
        ]
      }
    },
    {
      "taskType": "scheduled",
      "capabilityId": "ScheduledSearch",
      "subCapability": "ScheduledSearch",
      "version": "1.1",
      "config": {
        "taskName": "Add no recent activity label to pull requests",
        "frequency": [
          {
            "weekDay": 0,
            "hours": [
              2,
              8,
              14,
              20
            ],
            "timezoneOffset": -7
          },
          {
            "weekDay": 1,
            "hours": [
              2,
              8,
              14,
              20
            ],
            "timezoneOffset": -7
          },
          {
            "weekDay": 2,
            "hours": [
              2,
              8,
              14,
              20
            ],
            "timezoneOffset": -7
          },
          {
            "weekDay": 3,
            "hours": [
              2,
              8,
              14,
              20
            ],
            "timezoneOffset": -7
          },
          {
            "weekDay": 4,
            "hours": [
              2,
              8,
              14,
              20
            ],
            "timezoneOffset": -7
          },
          {
            "weekDay": 5,
            "hours": [
              2,
              8,
              14,
              20
            ],
            "timezoneOffset": -7
          },
          {
            "weekDay": 6,
            "hours": [
              2,
              8,
              14,
              20
            ],
            "timezoneOffset": -7
          }
        ],
        "searchTerms": [
          {
            "name": "isPr",
            "parameters": {}
          },
          {
            "name": "isOpen",
            "parameters": {}
          },
          {
            "name": "hasLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          },
          {
            "name": "noActivitySince",
            "parameters": {
              "days": 7
            }
          },
          {
            "name": "noLabel",
            "parameters": {
              "label": "No-Recent-Activity"
            }
          },
          {
            "name": "noLabel",
            "parameters": {
              "label": "Blocking-Issue"
            }
          }
        ],
        "actions": [
          {
            "name": "addLabel",
            "parameters": {
              "label": "No-Recent-Activity"
            }
          },
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nThis pull request has been automatically marked as stale because it has been marked as requiring author feedback but has not had any activity for **7 days**. It will be closed if no further activity occurs **within 7 days of this comment**."
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "AutoMerge",
      "subCapability": "AutoMerge",
      "version": "1.0",
      "config": {
        "taskName": "Automatically merge pull requests",
        "label": "Validation-Completed",
        "silentMode": false,
        "minMinutesOpen": "5",
        "mergeType": "squash",
        "allowAutoMergeInstructionsWithoutLabel": false
      },
      "disabled": false
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "or",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-Error"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Manual Review: General Validation Failure",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "@${issueAuthor},\nAn issue was identified during the manual review, and the PR request cannot be approved.  Please see comments for more information.  \nPlease address the issue and resubmit, or if you disagree with this resolution, please raise an issue and flag this PR for further discussion."
            }
          },
          {
            "name": "assignToUser",
            "parameters": {
              "user": {
                "type": "prAuthor"
              }
            }
          },
          {
            "name": "requestReviewer",
            "parameters": {
              "reviewer": "PR Author"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Azure-Pipeline-Passed"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "or",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-Uninstall-Error"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Manual Review: Uninstallation Failed",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nThe package manager bot detected that the application did not uninstall correctly.  Please make sure the SystemAppId is correct and the application uninstalls correctly. Once repaired, please push an update to your pull request."
            }
          },
          {
            "name": "assignToUser",
            "parameters": {
              "user": "PR Author"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Azure-Pipeline-Passed"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-Virus-Scan-Error"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Manual Review: Virus Scan Failed",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nThe package manager bot the installation failed a virus scan.  Please check the application installs correctly and there are not viruses associated with the tool.  Once repaired, please push an update to your pull request."
            }
          },
          {
            "name": "assignToUser",
            "parameters": {
              "user": "PR Author"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Azure-Pipeline-Passed"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "or",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-Installation-Error"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Manual Review: Installation Failed",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nThe package manager bot determined there was an issue with installing the application correctly.  Please check the application installs correctly.  Once repaired, please push an update to your pull request."
            }
          },
          {
            "name": "assignToUser",
            "parameters": {
              "user": "PR Author"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Azure-Pipeline-Passed"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "or",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Azure-Pipeline-Passed"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Automated Pipeline succeeds - Start Manual Testing",
        "actions": [
          {
            "name": "assignToGitHubUserGroup",
            "parameters": {
              "groupId": "5eab07f7a70633230c0dbe9c",
              "skipOpener": true
            }
          },
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello ${issueAuthor},\nThis submission has moved to manual review."
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          }
        ]
      },
      "disabled": true
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestReviewResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "hasLabel",
              "parameters": {
                "label": "Validation-Completed"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request_review"
        ],
        "actions": [
          {
            "name": "addLabel",
            "parameters": {
              "label": "Validation-Completed"
            }
          }
        ],
        "taskName": "Manual Review: Validation complete!!"
      },
      "disabled": true
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "operator": "or",
              "operands": [
                {
                  "operator": "and",
                  "operands": [
                    {
                      "name": "hasLabel",
                      "parameters": {
                        "label": "Validation-Completed"
                      }
                    },
                    {
                      "name": "labelAdded",
                      "parameters": {
                        "label": "Moderator-Approved"
                      }
                    }
                  ]
                },
                {
                  "operator": "and",
                  "operands": [
                    {
                      "name": "labelAdded",
                      "parameters": {
                        "label": "Validation-Completed"
                      }
                    },
                    {
                      "name": "hasLabel",
                      "parameters": {
                        "label": "Moderator-Approved"
                      }
                    }
                  ]
                }
              ]
            },
            {
              "name": "isOpen",
              "parameters": {}
            },
            {
              "operator": "and",
              "operands": [
                {
                  "operator": "not",
                  "operands": [
                    {
                      "name": "hasLabel",
                      "parameters": {
                        "label": "Blocking-Issue"
                      }
                    }
                  ]
                },
                {
                  "operator": "not",
                  "operands": [
                    {
                      "name": "hasLabel",
                      "parameters": {
                        "label": "Needs-Author-Feedback"
                      }
                    }
                  ]
                },
                {
                  "operator": "not",
                  "operands": [
                    {
                      "name": "hasLabel",
                      "parameters": {
                        "label": "Needs-Attention"
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "actions": [
          {
            "name": "approvePullRequest",
            "parameters": {
              "comment": ""
            }
          },
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello ${issueAuthor},\nValidation has completed."
            }
          }
        ],
        "taskName": "Manual Review: Validation complete!!!",
        "dangerZone": {
          "respondToBotActions": true,
          "acceptRespondToBotActions": true
        }
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-SmartScreen"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Manual Review: Smartscreen Failure",
        "actions": [
          {
            "name": "assignToUser",
            "parameters": {
              "user": "KevinLaMS"
            }
          },
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nDuring installation testing, this app triggered a Microsoft Defender SmartScreen error.\n\nWe are notifying WDNotify@microsoft.com for investigation."
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-SmartScreen-Investigation"
            }
          },
          {
            "name": "",
            "parameters": {
              "label": "Needs SmartScreen Investigation"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "or",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-Unattend-Failed"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Manual Review: Unattend Installation.  Setup  is not silent.  Did you miss adding switches?",
        "actions": [
          {
            "name": "assignToUser",
            "parameters": {
              "user": {
                "type": "prAuthor"
              }
            }
          },
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nDuring installation testing, this application failed to install without user input.  Did you forget to add  Silent or SilentWithProgress switches?\n\nThis can also happen when a dependency is missing. You can test with https://github.com/microsoft/winget-pkgs#test-your-manifest.\n\nPlease investigate a fix and resubmit the Pull Request.\n\nYou may also try using the [Windows Package Manager Manifest Creator](https://github.com/microsoft/winget-create) to determine the proper installer type. If the installer type is MSIX, MSI or a known installer technology like NullSoft, Inno, etc. the wingetcreate tool can detect then the winget client will know what switches to pass. If it's a .exe installer of an unknown type, you will need to search to determine the proper switches for Silent and SilentWithProgress."
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Azure-Pipeline-Passed"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "or",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-Hash-Verification-Failed"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Error-Hash-Mismatch"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Manual Review: Hash failed",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nI am sorry to report that the Sha256 Hash does not match the installer.  This maybe caused by using a vanity URL rather than a URL directly to the binary.  \n\nPlease check the HASH and submit again.  Sorry for the inconvenience."
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Azure-Pipeline-Passed"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-MSIX-Dependency"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Manual Review: Validation-MSIX-Dependency",
        "actions": [
          {
            "name": "assignToUser",
            "parameters": {
              "user": {
                "type": "prAuthor"
              }
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Azure-Pipeline-Passed"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Blocking-Issue"
            }
          },
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nThis package fails because it is dependent on some frameworks, and we do not support the dependencies yet.   See issue: microsoft/winget-cli#163\nIn the meantime, if you include the dependencies in your package, it should pass. "
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-Install-Access-Denied"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Manual Review:  Validation-Install-Access-Denied ",
        "actions": [
          {
            "name": "addLabel",
            "parameters": {
              "label": "Blocking-Issue"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Azure-Pipeline-Passed"
            }
          },
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nI am sorry this submission is failing due to an in issue on the client.  The issue is \"Access Denied when installing an app #247\"\n\nThe developer have been notified.  We will keep this PR request open until the issue is addressed.\n"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "IssueCommentResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "commentContains",
              "parameters": {
                "bodyPattern": "/dup",
                "isRegex": true,
                "commentPattern": "Duplicate\\s+of\\s+#?\\s*\\d+"
              }
            },
            {
              "operator": "or",
              "operands": [
                {
                  "name": "activitySenderHasPermissions",
                  "parameters": {
                    "permissions": "admin"
                  }
                },
                {
                  "name": "activitySenderHasPermissions",
                  "parameters": {
                    "permissions": "write"
                  }
                },
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "ImJoakim"
                  }
                },
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "ItzLevvie"
                  }
                },
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "jedieaston"
                  }
                },
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "KaranKad"
                  }
                },
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "OfficialEsco"
                  }
                },
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "quhxl"
                  }
                },
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "Trenly"
                  }
                }
              ]
            }
          ]
        },
        "eventType": "issue",
        "eventNames": [
          "issue_comment"
        ],
        "taskName": "Helper to mark as duplicate",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nWe've identified this issue as a duplicate of another one that already exists on this Issue Tracker. This specific instance is being closed in favor of tracking the concern over on the referenced thread. Please add your üëç to the other issue to raise its priority. Thanks for your report!"
            }
          },
          {
            "name": "closeIssue",
            "parameters": {}
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Triage"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Feedback-Hub"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Resolution-Duplicate"
            }
          }
        ]
      },
      "disabled": false
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestCommentResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "commentContains",
              "parameters": {
                "bodyPattern": "/clo",
                "isRegex": true,
                "commentPattern": "Close\\s+with\\s+reason\\s*:[\\w\\s\\-\\(\\)\\[\\]\\{\\}\\\\\\/.+=@#$%&^*`~|'\",<>?]*(?=;)"
              }
            },
            {
              "operator": "or",
              "operands": [
                {
                  "name": "activitySenderHasPermissions",
                  "parameters": {
                    "permissions": "admin"
                  }
                },
                {
                  "name": "activitySenderHasPermissions",
                  "parameters": {
                    "permissions": "write"
                  }
                },
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "ImJoakim"
                  }
                },
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "ItzLevvie"
                  }
                },
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "jedieaston"
                  }
                },
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "KaranKad"
                  }
                },
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "OfficialEsco"
                  }
                },
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "quhxl"
                  }
                },
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "Trenly"
                  }
                }
              ]
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "issue_comment"
        ],
        "taskName": "Helper to close",
        "actions": [
          {
            "name": "closeIssue",
            "parameters": {}
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Triage"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Feedback-Hub"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      },
      "disabled": false
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "IssuesOnlyResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "hasLabel",
              "parameters": {
                "label": "In-PR"
              }
            },
            {
              "name": "hasLabel",
              "parameters": {
                "label": "Help-Wanted"
              }
            },
            {
              "name": "isLabeled",
              "parameters": {}
            }
          ]
        },
        "eventType": "issue",
        "eventNames": [
          "issues",
          "project_card"
        ],
        "taskName": "Pull the Help-Wanted tag if something goes into PR",
        "actions": [
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Help-Wanted"
            }
          }
        ],
        "dangerZone": {
          "respondToBotActions": false,
          "acceptRespondToBotActions": true
        }
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "IssuesOnlyResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "isLabeled",
              "parameters": {}
            },
            {
              "name": "hasLabel",
              "parameters": {
                "label": "Needs-Feedback-Hub"
              }
            }
          ]
        },
        "eventType": "issue",
        "eventNames": [
          "issues",
          "project_card"
        ],
        "taskName": "Ask for Feedback Hub link",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nPlease send us feedback with the [Feedback Hub](https://aka.ms/winget-feedback) with this issue and paste the link here so we can more easily find your crash information on the back end.<br /><br />\nUse \"Apps\" and \"Windows Package Manager\" for Category.<br /><br />\nThe share link at the bottom of the report will provide the URL to paste in to this Issue to help us locate it."
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Feedback-Hub"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      },
      "disabled": false
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "IssueCommentResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "commentContains",
              "parameters": {
                "commentPattern": "\\/feedback",
                "isRegex": true
              }
            },
            {
              "operator": "or",
              "operands": [
                {
                  "name": "activitySenderHasPermissions",
                  "parameters": {
                    "permissions": "admin"
                  }
                },
                {
                  "name": "activitySenderHasPermissions",
                  "parameters": {
                    "permissions": "write"
                  }
                }
              ]
            }
          ]
        },
        "eventType": "issue",
        "eventNames": [
          "issue_comment"
        ],
        "taskName": "Ask for Feedback Hub link via comment trigger",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nPlease send us feedback with the Feedback Hub with this issue and paste the link here so we can more easily find your crash information on the back end.<br /><br />\nUse \"Apps\" and \"Windows Package Manager\" for Category.<br /><br />\nThe share link at the bottom of the report will provide the URL to paste in to this Issue to help us locate it."
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "ReleaseAnnouncement",
      "subCapability": "ReleaseAnnouncement",
      "version": "1.0",
      "config": {
        "taskName": "Announce a fix has been released",
        "prReply": ":tada:`${pkgName} ${version}` has been released which incorporates this pull request.:tada:\n\nHandy links:\n* [Release Notes](https://github.com/${owner}/${repo}/releases/tag/${version})\n\n",
        "issueReply": ":tada:This issue was addressed in #${prNumber}, which has now been successfully released as `${pkgName} ${version}`.:tada:\n\nHandy links:\n* [Release Notes](https://github.com/${owner}/${repo}/releases/tag/${version})\n",
        "referencedPrsRegex": "\\#([0-9]+)\\s*\\)"
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "IssuesOnlyResponder",
      "version": "1.0",
      "config": {
        "taskName": "Add needs triage label to new issue",
        "conditions": {
          "operator": "or",
          "operands": [
            {
              "operator": "and",
              "operands": [
                {
                  "name": "isAction",
                  "parameters": {
                    "action": "opened"
                  }
                }
              ]
            }
          ]
        },
        "actions": [
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Triage"
            }
          }
        ],
        "eventType": "issue",
        "eventNames": [
          "issues",
          "project_card"
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-VCRuntime-Dependency"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Manual Review: Validation-VCRuntime-Dependency",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nThis package fails because it is dependent on the Visual Studio Runtime and we do not support the dependencies yet.   See issue: microsoft/winget-cli#163\n\nIn the meantime, if you include the dependencies in your package, it should pass. \nhttps://support.microsoft.com/en-us/help/2977003/the-latest-supported-visual-c-downloads\n"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Azure-Pipeline-Passed"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Blocking-Issue"
            }
          },
          {
            "name": "assignToUser",
            "parameters": {
              "user": {
                "type": "prAuthor"
              }
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-404-Error"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Manual Review: Validation-404-Error",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nWhen processing this package, the URL to the installer returned a 404 error.  It appears this URL is no longer valid.\n\nPlease update the URL and Hash at your convenience.\n"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Azure-Pipeline-Passed"
            }
          },
          {
            "name": "assignToUser",
            "parameters": {
              "user": {
                "type": "prAuthor"
              }
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "or",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Internal-Error"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Internal-Error-PR"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Internal-Error-Manifest"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Internal-Error-URL"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Internal-Error-Domain"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Internal-Error-Keyword-Policy"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Internal-Error-Static-Scan"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Internal-Error-Dynamic-Scan"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Internal errors",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nThe pull request encountered an internal error and has been assigned to a developer to investigate."
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "hasLabel",
              "parameters": {
                "label": "Timeout-Retry"
              }
            },
            {
              "name": "hasLabel",
              "parameters": {
                "label": "Error-Analysis-Timeout"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Error-Analysis-Timeout",
        "actions": [
          {
            "name": "assignToGitHubUserGroup",
            "parameters": {
              "groupId": "5f11edb727b58f1b987f2685"
            }
          },
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nStatic analysis has timed out.  The PR has been assigned to a developer to investigate."
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Error-Installer-Availability"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Error-Install-Availabilty",
        "actions": [
          {
            "name": "assignToUser",
            "parameters": {
              "user": "PR Author"
            }
          },
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nWhen processing this package, the URL to the installer returned a 404 error or was determined to be invalid.\n\nPlease update the URL and hash at your convenience and resubmit your PR."
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Azure-Pipeline-Passed"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "scheduled",
      "capabilityId": "ScheduledSearch",
      "subCapability": "ScheduledSearch",
      "version": "1.1",
      "config": {
        "frequency": [
          {
            "weekDay": 0,
            "hours": [
              0,
              6,
              12,
              18
            ]
          },
          {
            "weekDay": 1,
            "hours": [
              0,
              6,
              12,
              18
            ]
          },
          {
            "weekDay": 2,
            "hours": [
              0,
              6,
              12,
              18
            ]
          },
          {
            "weekDay": 3,
            "hours": [
              0,
              6,
              12,
              18
            ]
          },
          {
            "weekDay": 4,
            "hours": [
              0,
              6,
              12,
              18
            ]
          },
          {
            "weekDay": 5,
            "hours": [
              0,
              6,
              12,
              18
            ]
          },
          {
            "weekDay": 6,
            "hours": [
              0,
              6,
              12,
              18
            ]
          }
        ],
        "searchTerms": [
          {
            "name": "isOpen",
            "parameters": {}
          },
          {
            "name": "hasLabel",
            "parameters": {
              "label": "Error-Analysis-Timeout"
            }
          },
          {
            "name": "noActivitySince",
            "parameters": {
              "days": 1
            }
          },
          {
            "name": "noLabel",
            "parameters": {
              "label": "Timeout-Retry"
            }
          }
        ],
        "taskName": "Retry following 24 hour delay from ESRP (#41)",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "/Azp Run"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Timeout-Retry"
            }
          }
        ]
      },
      "disabled": true
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "operator": "not",
              "operands": [
                {
                  "name": "prMatchesPattern",
                  "parameters": {
                    "matchRegex": "^manifests/*"
                  }
                }
              ]
            },
            {
              "operator": "not",
              "operands": [
                {
                  "name": "prMatchesPattern",
                  "parameters": {
                    "matchRegex": "DevOpsPipelineDefinitions"
                  }
                }
              ]
            },
            {
              "name": "prMatchesPattern",
              "parameters": {
                "matchRegex": "^.*\\.yaml"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Bad PR request due to missing manifests folder",
        "actions": [
          {
            "name": "assignToUser",
            "parameters": {
              "user": {
                "type": "prAuthor"
              }
            }
          },
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nIt looks like this pull request is missing the manifests folder.  For example: manifests\\<first letter of the publisher in lower-case>\\<publisher>\\<application>\\<version>\\*.yaml\n\nPlease review the path of your manifest file and resubmit."
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Manifest-Path-Error"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "scheduled",
      "capabilityId": "ScheduledSearch",
      "subCapability": "ScheduledSearch",
      "version": "1.1",
      "config": {
        "taskName": "Close stale issues",
        "frequency": [
          {
            "weekDay": 0,
            "hours": [
              2,
              5,
              8,
              11,
              14,
              17,
              20,
              23
            ],
            "timezoneOffset": -8
          },
          {
            "weekDay": 1,
            "hours": [
              2,
              5,
              8,
              11,
              14,
              17,
              20,
              23
            ],
            "timezoneOffset": -8
          },
          {
            "weekDay": 2,
            "hours": [
              2,
              5,
              8,
              11,
              14,
              17,
              20,
              23
            ],
            "timezoneOffset": -8
          },
          {
            "weekDay": 3,
            "hours": [
              2,
              5,
              8,
              11,
              14,
              17,
              20,
              23
            ],
            "timezoneOffset": -8
          },
          {
            "weekDay": 4,
            "hours": [
              2,
              5,
              8,
              11,
              14,
              17,
              20,
              23
            ],
            "timezoneOffset": -8
          },
          {
            "weekDay": 5,
            "hours": [
              2,
              5,
              8,
              11,
              14,
              17,
              20,
              23
            ],
            "timezoneOffset": -8
          },
          {
            "weekDay": 6,
            "hours": [
              2,
              5,
              8,
              11,
              14,
              17,
              20,
              23
            ],
            "timezoneOffset": -8
          }
        ],
        "searchTerms": [
          {
            "name": "isIssue",
            "parameters": {}
          },
          {
            "name": "isOpen",
            "parameters": {}
          },
          {
            "name": "hasLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          },
          {
            "name": "hasLabel",
            "parameters": {
              "label": "No-Recent-Activity"
            }
          },
          {
            "name": "noActivitySince",
            "parameters": {
              "days": 7
            }
          },
          {
            "name": "noLabel",
            "parameters": {
              "label": "Blocking-Issue"
            }
          }
        ],
        "actions": [
          {
            "name": "closeIssue",
            "parameters": {}
          }
        ]
      }
    },
    {
      "taskType": "scheduled",
      "capabilityId": "ScheduledSearch",
      "subCapability": "ScheduledSearch",
      "version": "1.1",
      "config": {
        "taskName": "Add no recent activity label to issues",
        "frequency": [
          {
            "weekDay": 0,
            "hours": [
              2,
              5,
              8,
              11,
              14,
              17,
              20,
              23
            ],
            "timezoneOffset": -8
          },
          {
            "weekDay": 1,
            "hours": [
              2,
              5,
              8,
              11,
              14,
              17,
              20,
              23
            ],
            "timezoneOffset": -8
          },
          {
            "weekDay": 2,
            "hours": [
              2,
              5,
              8,
              11,
              14,
              17,
              20,
              23
            ],
            "timezoneOffset": -8
          },
          {
            "weekDay": 3,
            "hours": [
              2,
              5,
              8,
              11,
              14,
              17,
              20,
              23
            ],
            "timezoneOffset": -8
          },
          {
            "weekDay": 4,
            "hours": [
              2,
              5,
              8,
              11,
              14,
              17,
              20,
              23
            ],
            "timezoneOffset": -8
          },
          {
            "weekDay": 5,
            "hours": [
              2,
              5,
              8,
              11,
              14,
              17,
              20,
              23
            ],
            "timezoneOffset": -8
          },
          {
            "weekDay": 6,
            "hours": [
              2,
              5,
              8,
              11,
              14,
              17,
              20,
              23
            ],
            "timezoneOffset": -8
          }
        ],
        "searchTerms": [
          {
            "name": "isIssue",
            "parameters": {}
          },
          {
            "name": "isOpen",
            "parameters": {}
          },
          {
            "name": "noActivitySince",
            "parameters": {
              "days": 7
            }
          },
          {
            "name": "noLabel",
            "parameters": {
              "label": "No-Recent-Activity"
            }
          },
          {
            "name": "noLabel",
            "parameters": {
              "label": "Blocking-Issue"
            }
          },
          {
            "name": "hasLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ],
        "actions": [
          {
            "name": "addLabel",
            "parameters": {
              "label": "No-Recent-Activity"
            }
          },
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nThis issue has been automatically marked as stale because it has been marked as requiring author feedback but has not had any activity for **7 days**. It will be closed if no further activity occurs **within 7 days of this comment**."
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "IssueCommentResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "or",
          "operands": [
            {
              "name": "hasLabel",
              "parameters": {
                "label": "No-Recent-Activity"
              }
            }
          ]
        },
        "eventType": "issue",
        "eventNames": [
          "issue_comment"
        ],
        "taskName": "Remove no recent activity label",
        "actions": [
          {
            "name": "removeLabel",
            "parameters": {
              "label": "No-Recent-Activity"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-HTTP-Error"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Validation-HTTP-Error",
        "actions": [
          {
            "name": "assignToUser",
            "parameters": {
              "user": {
                "type": "prAuthor"
              }
            }
          },
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nThe validation code has detected one of the URLs in the manifest is not using the HTTPS protocol.  Please update all URLs in the manifest to use HTTPS instead."
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Azure-Pipeline-Passed"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-Indirect-URL"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Validation-Indirect-URL",
        "actions": [
          {
            "name": "assignToUser",
            "parameters": {
              "user": "KevinLaMS"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Azure-Pipeline-Passed"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          },
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nThis URL in this manifest is not a direct URL.  It is using the actual URL as a parameter and passing that URL to a different website.  This pattern is not supported.  Please update the manifest to use a direct link for the URL."
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestCommentResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "commentContains",
              "parameters": {
                "bodyPattern": "/Pub",
                "isRegex": true,
                "commentPattern": "Publish\\s+pipeline\\s+succeeded"
              }
            },
            {
              "name": "isActivitySender",
              "parameters": {
                "user": "wingetbot"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "issue_comment"
        ],
        "taskName": "Add label on Publish Pipeline Succeeded",
        "actions": [
          {
            "name": "addLabel",
            "parameters": {
              "label": "Publish-Pipeline-Succeeded"
            }
          }
        ]
      },
      "disabled": false
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "isActivitySender",
              "parameters": {
                "user": "wingetbot"
              }
            },
            {
              "name": "prMatchesPattern",
              "parameters": {
                "matchRegex": "DevOpsPipelineDefinitions/*"
              }
            },
            {
              "name": "isOpen",
              "parameters": {}
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Approve pipeline files PRs from wingetbot",
        "actions": [
          {
            "name": "approvePullRequest"
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-Merge-Conflict"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Merge Conflict",
        "actions": [
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Azure-Pipeline-Passed"
            }
          },
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nThe PR could not be validated because there is a merge conflict which adds bad characters to the manifest.  Please address the merge conflict and resubmit. "
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          },
          {
            "name": "assignToUser",
            "parameters": {
              "user": {
                "type": "prAuthor"
              }
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "or",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Internal-Error"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Internal-Error-PR"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Internal-Error-Manifest"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Internal-Error-URL"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Internal-Error-Static-Scan"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Internal-Error-Domain"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Internal-Error-Keyword-Policy"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Internal-Error-Dynamic-Scan"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Assign to the engineer on call",
        "actions": [
          {
            "name": "assignToIcmUserGroup",
            "parameters": {
              "groupId": "61b7eb27cfff4b19dc1a8ec7",
              "assignmentTarget": "Primary"
            }
          },
          {
            "name": "assignToIcmUserGroup",
            "parameters": {
              "groupId": "61b7eb27cfff4b19dc1a8ec7",
              "assignmentTarget": "FirstBackup"
            }
          }
        ]
      },
      "disabled": false
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "or",
          "operands": [
            {
              "name": "isAction",
              "parameters": {
                "action": "synchronize"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Remove all Status Labels on changes pushed",
        "actions": [
          {
            "name": "removeLabel",
            "parameters": {
              "label": "PullRequest-Error"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Manifest-Validation-Error"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "URL-Validation-Error"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Binary-Validation-Error"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Error-Analysis-Timeout"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Error-Installer-Availability"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Error-Hash-Mismatch"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Internal-Error"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Internal-Error-PR"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Internal-Error-Manifest"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Internal-Error-URL"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Internal-Error-Domain"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Internal-Error-Keyword-Policy"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Internal-Error-Static-Scan"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Internal-Error-Dynamic-Scan"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-Unattend-Failed"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-Installation-Error"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Internal-Error-NoArchitectures"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Internal-Error-NoSupportedArchitectures"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-Executable-Error"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-Defender-Error"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-Unapproved-URL"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-Domain"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Blocking-Issue"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-SmartScreen-Investigation"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "EULA-Install"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "MSFT-Verified"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-Completed"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Azure-Pipeline-Passed"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-Unattended-Failed"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-1.1.A"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-1.1.B"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-1.2"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-1.5"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-1.8"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-2.10"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-2.2.A"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-2.2.B"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-2.3"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-2.4"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-2.5"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-2.6"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-2.7"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-2.8"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-2.9"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-No-Executables"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Moderator-Approved"
            }
          },
          {
            "name": "dismissApprovalPullRequest",
            "parameters": {
              "dismissAction": "dismissAll"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Unexpected-File"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-Merge-Conflict"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Manifest-AppsAndFeaturesVersion-Error"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-Shell-Execute"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestCommentResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "operator": "or",
              "operands": [
                {
                  "name": "commentContains",
                  "parameters": {
                    "commentPattern": "\\/[a|A][z|Z][p|P] [r|R][u|U][n|N]",
                    "isRegex": true
                  }
                },
                {
                  "name": "commentContains",
                  "parameters": {
                    "commentPattern": "\\/[a|A][z|Z][u|U][r|R][e|E][p|P][i|I][p|P][e|E][l|L][i|I][n|N][e|E][s|S] [r|R][u|U][n|N]",
                    "isRegex": true
                  }
                }
              ]
            },
            {
              "operator": "not",
              "operands": [
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "msftbot"
                  }
                }
              ]
            },
            {
              "operator": "or",
              "operands": [
                {
                  "name": "activitySenderHasPermissions",
                  "parameters": {
                    "permissions": "admin"
                  }
                },
                {
                  "name": "activitySenderHasPermissions",
                  "parameters": {
                    "permissions": "write"
                  }
                }
              ]
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "issue_comment"
        ],
        "taskName": "Remove all Event Labels on rerun (not moderator approved)",
        "actions": [
          {
            "name": "removeLabel",
            "parameters": {
              "label": "PullRequest-Error"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Manifest-Validation-Error"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "URL-Validation-Error"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Binary-Validation-Error"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Error-Analysis-Timeout"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Error-Installer-Availability"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Error-Hash-Mismatch"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Internal-Error"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Internal-Error-PR"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Internal-Error-Manifest"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Internal-Error-URL"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Internal-Error-Domain"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Internal-Error-Keyword-Policy"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Internal-Error-Static-Scan"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Internal-Error-Dynamic-Scan"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-Unattend-Failed"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-Installation-Error"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Internal-Error-NoArchitectures"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Internal-Error-NoSupportedArchitectures"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-Executable-Error"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-Defender-Error"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-Unapproved-URL"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-Domain"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Blocking-Issue"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-SmartScreen-Investigation"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "EULA-Install"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "MSFT-Verified"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-Completed"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Azure-Pipeline-Passed"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-Unattended-Failed"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-1.1.A"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-1.1.B"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-1.2"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-1.5"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-1.8"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-2.10"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-2.2.A"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-2.2.B"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-2.3"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-2.4"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-2.5"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-2.6"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-2.7"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-2.8"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Policy-Test-2.9"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-No-Executables"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          },
          {
            "name": "dismissApprovalPullRequest",
            "parameters": {
              "dismissAction": "dismissAll"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Unexpected-File"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Manifest-AppsAndFeaturesVersion-Error"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Validation-Shell-Execute"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "hasLabel",
              "parameters": {
                "label": "Internal-Error-Dynamic-Scan"
              }
            },
            {
              "operator": "not",
              "operands": [
                {
                  "name": "hasLabel",
                  "parameters": {
                    "label": "Retry-1"
                  }
                }
              ]
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Force retry on Internal-Error-Dynamic-Scan",
        "actions": [
          {
            "name": "addLabel",
            "parameters": {
              "label": "Retry-1"
            }
          },
          {
            "name": "reopenIssue",
            "parameters": {}
          }
        ]
      },
      "disabled": false
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "or",
          "operands": [
            {
              "name": "hasLabel",
              "parameters": {
                "label": "Validation-Unattend-Failed"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "PR has Validation-Unattended-Failed",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "Hello @${issueAuthor},\nThis package appears to require user interaction to complete. Please check to see if this package can be installed unattended, and modify the manifest."
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestReviewResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "isReviewState",
              "parameters": {
                "state": "approved"
              }
            },
            {
              "operator": "or",
              "operands": [
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "jedieaston"
                  }
                },
                {
                  "name": "activitySenderHasPermissions",
                  "parameters": {
                    "permissions": "admin"
                  }
                },
                {
                  "name": "activitySenderHasPermissions",
                  "parameters": {
                    "permissions": "write"
                  }
                },
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "ItzLevvie"
                  }
                },
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "OfficialEsco"
                  }
                },
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "ImJoakim"
                  }
                },
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "KaranKad"
                  }
                },
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "quhxl"
                  }
                },
                {
                  "name": "isActivitySender",
                  "parameters": {
                    "user": "Trenly"
                  }
                }
              ]
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request_review"
        ],
        "taskName": "Add Moderator Approved when a Moderator Approves a PR",
        "actions": [
          {
            "name": "addLabel",
            "parameters": {
              "label": "Moderator-Approved"
            }
          }
        ]
      },
      "disabled": false
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "IssuesOnlyResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "isAction",
              "parameters": {
                "action": "closed"
              }
            }
          ]
        },
        "eventType": "issue",
        "eventNames": [
          "issues",
          "project_card"
        ],
        "taskName": "Remove Needs-Triage label when issue closed",
        "actions": [
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Triage"
            }
          }
        ]
      }
    },
    {
      "taskType": "scheduled",
      "capabilityId": "ScheduledSearch",
      "subCapability": "ScheduledSearch",
      "version": "1.1",
      "config": {
        "frequency": [
          {
            "weekDay": 0,
            "hours": [
              1,
              4,
              7,
              10,
              13,
              16,
              19,
              22
            ],
            "timezoneOffset": -8
          },
          {
            "weekDay": 1,
            "hours": [
              1,
              4,
              7,
              10,
              13,
              16,
              19,
              22
            ],
            "timezoneOffset": -8
          },
          {
            "weekDay": 2,
            "hours": [
              1,
              4,
              7,
              10,
              13,
              16,
              19,
              22
            ],
            "timezoneOffset": -8
          },
          {
            "weekDay": 3,
            "hours": [
              1,
              4,
              7,
              10,
              13,
              16,
              19,
              22
            ],
            "timezoneOffset": -8
          },
          {
            "weekDay": 4,
            "hours": [
              1,
              4,
              7,
              10,
              13,
              16,
              19,
              22
            ],
            "timezoneOffset": -8
          },
          {
            "weekDay": 5,
            "hours": [
              1,
              4,
              7,
              10,
              13,
              16,
              19,
              22
            ],
            "timezoneOffset": -8
          },
          {
            "weekDay": 6,
            "hours": [
              1,
              4,
              7,
              10,
              13,
              16,
              19,
              22
            ],
            "timezoneOffset": -8
          }
        ],
        "searchTerms": [
          {
            "name": "isIssue",
            "parameters": {}
          },
          {
            "name": "isOpen",
            "parameters": {}
          },
          {
            "name": "hasLabel",
            "parameters": {
              "label": "Resolution-Duplicate"
            }
          },
          {
            "name": "noActivitySince",
            "parameters": {
              "days": 1
            }
          }
        ],
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "@${issueAuthor} this issue has been marked as duplicate and has not had any activity for **1 day**. It will be closed for housekeeping purposes."
            }
          },
          {
            "name": "closeIssue",
            "parameters": {}
          }
        ],
        "taskName": "Close duplicate issues"
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "IssueCommentResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "commentContains",
              "parameters": {
                "commentPattern": "Duplicate\\s+of\\s+#?\\s*\\d+",
                "isRegex": true
              }
            },
            {
              "operator": "or",
              "operands": [
                {
                  "name": "activitySenderHasPermissions",
                  "parameters": {
                    "permissions": "admin"
                  }
                },
                {
                  "name": "activitySenderHasPermissions",
                  "parameters": {
                    "permissions": "write"
                  }
                }
              ]
            }
          ]
        },
        "eventType": "issue",
        "eventNames": [
          "issue_comment"
        ],
        "taskName": "Helper to mark as duplicate",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "@${issueAuthor} we've identified this Issue as a duplicate of another one that already exists. This specific instance is being closed in favor of tracking the concern over on the referenced Issue. Thanks for your report! Be sure to add your üëç to the other issue to help raise the priority."
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Triage"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Resolution-Duplicate"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs: Attention"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Feedback-Hub"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-Completed"
              }
            },
            {
              "operator": "not",
              "operands": [
                {
                  "name": "hasLabel",
                  "parameters": {
                    "label": "Moderator-Approved"
                  }
                }
              ]
            },
            {
              "name": "isOpen",
              "parameters": {}
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "${issueAuthor},\n\nThe check-in policies require a moderator to approve PRs from the community. \n\nOur moderators are community volunteers, please be patient and allow them sufficient time to review your submission."
            }
          }
        ],
        "taskName": "Inform PR authors that moderators need to approve their PR."
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "or",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-Unapproved-URL"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-Domain"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Manual Review ISV labels",
        "actions": [
          {
            "name": "assignToIcmUserGroup",
            "parameters": {
              "groupId": "61b7eb27cfff4b19dc1a8ec7",
              "assignmentTarget": "Primary"
            }
          },
          {
            "name": "assignToIcmUserGroup",
            "parameters": {
              "groupId": "61b7eb27cfff4b19dc1a8ec7",
              "assignmentTarget": "FirstBackup"
            }
          }
        ]
      },
      "disabled": false
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "or",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Policy-Test-2.7"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Policy-Test-2.9"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Policy-Test-2.10"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Policy-Test-2.4"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Policy-Test-1.8"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Policy-Test-2.3"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Policy-Test-2.8"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Policy-Test-2.5"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Policy-Test-1.5"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Policy-Test-2.6"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Policy-Test-1.2"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Policy-Test-1.1.B"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Manual Review Risky Keywords",
        "actions": [
          {
            "name": "assignToIcmUserGroup",
            "parameters": {
              "groupId": "61b7eb27cfff4b19dc1a8ec7",
              "assignmentTarget": "Primary"
            }
          },
          {
            "name": "assignToIcmUserGroup",
            "parameters": {
              "groupId": "61b7eb27cfff4b19dc1a8ec7",
              "assignmentTarget": "FirstBackup"
            }
          }
        ]
      },
      "disabled": false
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "or",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-Unattend-Failed"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Internal-Error-NoArchitectures"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Internal-Error-NoSupportedArchitectures"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-Executable-Error"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-Defender-Error"
              }
            },
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-No-Executables"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Manual Review DaaS",
        "actions": [
          {
            "name": "assignToIcmUserGroup",
            "parameters": {
              "groupId": "61b7eb27cfff4b19dc1a8ec7",
              "assignmentTarget": "Primary"
            }
          },
          {
            "name": "assignToIcmUserGroup",
            "parameters": {
              "groupId": "61b7eb27cfff4b19dc1a8ec7",
              "assignmentTarget": "FirstBackup"
            }
          }
        ]
      },
      "disabled": false
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-Metadata"
              }
            },
            {
              "name": "activitySenderHasPermissions",
              "parameters": {
                "permissions": "admin"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Merge Validation-Metadata",
        "actions": [
          {
            "name": "approvePullRequest"
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Validation-Completed"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-Domain"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Respond to PR author regarding the Validation-Domain error",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "@${issueAuthor},\n\nOne or more of the installer URLs doesn't appear valid.\n\nThis may happen for sites with policies prohibiting distribution or use by third parties.\n\nThis may happen for URLs pointing to domains that do not align with the publisher domain or package domain. If you could provide supporting evidence from the publisher that the URLs for the installer are correct, that would help us to validate and approve this PR."
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          },
          {
            "name": "removeLabel",
            "parameters": {
              "label": "Needs-Attention"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Display-Version"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Blocked by Apps & Features version correlation",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "@${issueAuthor},\n\nThis package does not report a version in Windows Apps & Features, or it reports an incorrect version.\n\nThis PR is blocked until support for correlation between values in Windows Apps & Features is supported:\n* microsoft/winget-cli/issues/1952"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Blocking-Issue"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": ".exe"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Blocked by portable / standalone application support",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "@${issueAuthor},\n\nThis package appears to reference a portable application rather than an installer.\n\nThis PR is blocked until support for portable applications is implemented in:\n* microsoft/winget-cli/issues/182"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Blocking-Issue"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": ".zip"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Blocked by .zip",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "@${issueAuthor},\n\nThis package appears to reference a compressed .zip archive rather than an installer.\n\nThis PR is blocked until support for .zip is implemented in:\n* microsoft/winget-cli/issues/140"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Blocking-Issue"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Dependencies"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Blocked by Dependencies",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "@${issueAuthor},\n\nThis package appears to require dependencies in order to install succesfully.\n\nThis PR is blocked until support for dependencies is implemented in:\n* microsoft/winget-cli/issues/163"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Blocking-Issue"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Interactive-Only-Installer"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Blocked by Interactive Only Installer",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "@${issueAuthor},\n\nThis package appears to require user interaction to install.\n\nThis PR is blocked until support for interactive installer search filtering is implemented in:\n* microsoft/winget-cli/issues/823"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Blocking-Issue"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "or",
          "operands": [
            {
              "name": "titleContains",
              "parameters": {
                "titlePattern": "Estmob"
              }
            },
            {
              "name": "bodyContains",
              "parameters": {
                "bodyPattern": "Estmob"
              }
            },
            {
              "name": "titleContains",
              "parameters": {
                "titlePattern": "SendAnywhere"
              }
            },
            {
              "name": "bodyContains",
              "parameters": {
                "bodyPattern": "SendAnywhere"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "actions": [
          {
            "name": "addLabel",
            "parameters": {
              "label": "Blocking-Issue"
            }
          }
        ],
        "taskName": "Block Estmob.SendAnywhere"
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Hardware"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Blocked by specific Hardware Requirements",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "label": "Blocking-Issue",
              "comment": "@${issueAuthor},\n\nThis package appears to require specific hardware.\n\nThis PR is blocked until support for specific hardware requirements is implemented in:\n* microsoft/winget-cli/issues/1417"
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Blocking-Issue"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-Merge-Conflict"
              }
            },
            {
              "operator": "or",
              "operands": [
                {
                  "name": "activitySenderHasPermissions",
                  "parameters": {
                    "permissions": "write"
                  }
                },
                {
                  "name": "activitySenderHasPermissions",
                  "parameters": {
                    "permissions": "admin"
                  }
                }
              ]
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "Merge conflicts from write or admin users",
        "actions": [
          {
            "name": "assignToIcmUserGroup",
            "parameters": {
              "groupId": "61b7eb27cfff4b19dc1a8ec7",
              "assignmentTarget": "Primary"
            }
          },
          {
            "name": "assignToIcmUserGroup",
            "parameters": {
              "groupId": "61b7eb27cfff4b19dc1a8ec7",
              "assignmentTarget": "FirstBackup"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Manifest-AppsAndFeaturesVersion-Error"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "taskName": "AppsAndFeaturesVersion-Error",
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "${issueAuthor},\n\nDuring validation one or more entries for \"AppsAndFeatures\" did not match what was detected during validation. Please make the appropriate changes to the manifest."
            }
          },
          {
            "name": "assignToUser",
            "parameters": {
              "user": {
                "type": "prAuthor"
              }
            }
          },
          {
            "name": "addLabel",
            "parameters": {
              "label": "Needs-Author-Feedback"
            }
          }
        ]
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "name": "labelAdded",
              "parameters": {
                "label": "Validation-Shell-Execute"
              }
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "${issueAuthor},\n\nDuring validation, an error was encountered during an attempt to execute the package. This PR has been assigned to our on call staff to evaluate."
            }
          },
          {
            "name": "assignToIcmUserGroup",
            "parameters": {
              "groupId": "61b7eb27cfff4b19dc1a8ec7",
              "assignmentTarget": "Primary"
            }
          },
          {
            "name": "assignToIcmUserGroup",
            "parameters": {
              "groupId": "61b7eb27cfff4b19dc1a8ec7",
              "assignmentTarget": "FirstBackup"
            }
          }
        ],
        "taskName": "Assign validation-shell-execute to engineer on call"
      }
    },
    {
      "taskType": "trigger",
      "capabilityId": "IssueResponder",
      "subCapability": "PullRequestResponder",
      "version": "1.0",
      "config": {
        "conditions": {
          "operator": "and",
          "operands": [
            {
              "operator": "or",
              "operands": [
                {
                  "name": "labelAdded",
                  "parameters": {
                    "label": "Author-Not-Authorized"
                  }
                },
                {
                  "name": "labelAdded",
                  "parameters": {
                    "label": "Project-File"
                  }
                }
              ]
            }
          ]
        },
        "eventType": "pull_request",
        "eventNames": [
          "pull_request",
          "issues",
          "project_card"
        ],
        "actions": [
          {
            "name": "addReply",
            "parameters": {
              "comment": "${issueAuthor},\n\nChanges to one or more files in your PR require authorization to modify. This PR has been assigned to our on call staff to evaluate."
            }
          },
          {
            "name": "assignToIcmUserGroup",
            "parameters": {
              "groupId": "61b7eb27cfff4b19dc1a8ec7",
              "assignmentTarget": "Primary"
            }
          },
          {
            "name": "assignToIcmUserGroup",
            "parameters": {
              "groupId": "61b7eb27cfff4b19dc1a8ec7",
              "assignmentTarget": "FirstBackup"
            }
          }
        ],
        "taskName": "Assign author-not-authorized to engineer on call"
      }
    }
  ],
  "userGroups": [
    {
      "_id": "5eab07f7a70633230c0dbe9c",
      "groupType": "GitHub",
      "name": "winget Test Team",
      "githubUserNames": [
        "kevinlams",
        "denelon"
      ],
      "description": "This is the team for processing the manual validation.  ",
      "assignmentSchemes": [
        {
          "target": "All",
          "lastAssignedIndex": 968
        }
      ]
    },
    {
      "_id": "5f11edb727b58f1b987f2685",
      "groupType": "GitHub",
      "name": "winget-dev-team",
      "githubUserNames": [
        "ashpatil-msft",
        "msftrubengu",
        "zachcarp"
      ],
      "description": "Dev Team working on Package Manager Service",
      "assignmentSchemes": [
        {
          "target": "All",
          "lastAssignedIndex": 177
        }
      ]
    },
    {
      "_id": "61b7eb27cfff4b19dc1a8ec7",
      "groupType": "ICM",
      "name": "Manual review group",
      "onCallTeamId": 85579,
      "description": "PEET manual review group"
    }
  ]
}
