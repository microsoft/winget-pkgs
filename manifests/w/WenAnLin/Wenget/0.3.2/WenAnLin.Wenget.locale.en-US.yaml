# Created with WinGet Releaser using komac v2.14.0
# yaml-language-server: $schema=https://aka.ms/winget-manifest.defaultLocale.1.10.0.schema.json

PackageIdentifier: WenAnLin.Wenget
PackageVersion: 0.3.2
PackageLocale: en-US
Publisher: WenAnLin
PublisherUrl: https://github.com/superyngo
PublisherSupportUrl: https://github.com/superyngo/Wenget/issues
Author: wen
PackageName: Wenget
PackageUrl: https://github.com/superyngo/Wenget
License: MIT
LicenseUrl: https://github.com/superyngo/Wenget/blob/HEAD/LICENSE
Copyright: Copyright (c) 2025 wen
CopyrightUrl: https://github.com/superyngo/Wenget?tab=MIT-1-ov-file
ShortDescription: A cross-platform portable binary package manager powered by GitHub/GitLab releases. Simple, fast, and always up-to-date.
Description: A cross-platform portable binary package manager powered by GitHub/GitLab releases. Simple, fast, and always up-to-date.
Moniker: wenget
ReleaseNotes: |-
  feat: improve update mechanism with GitHub API integration and cache sync (v0.3.2)
  New Features
  1. GitHub API Priority with Smart Fallback
  - Prioritize GitHub API for fetching latest package info and download links
  - Smart fallback to bucket cache when API rate limit is hit
  - User-friendly notifications when using cached links
  - Ensures download links match the latest version
  How it works:
  Update/Install Package
      â†“
  Try GitHub API
      â”œâ”€ Success â†’ Use latest download links âœ“
      â””â”€ Rate Limit â†’ Fallback to bucket cache
  Benefits:
  - ğŸ¯ Accurate downloads - Latest version URLs from GitHub
  - ğŸ”„ Automatic fallback - No failures due to rate limits
  - ğŸ“Š Transparent - Users know which source is being used
  2. Automatic Cache Synchronization
  - Auto-update manifest-cache.json with latest package info from GitHub API
  - Batch updates for better performance
  - Preserves source tracking - Maintains bucket/direct repo information
  - Non-blocking - Cache update failures don't stop installation
  Benefits:
  - âš¡ Reduced API calls - Subsequent operations use updated cache
  - ğŸ”„ Fresh data - Cache gradually updates without full rebuild
  - ğŸ“¦ Better performance - List/search commands show latest info
  - ğŸ’¾ Incremental updates - No need to wait for 24h TTL expiry
  Technical Details
  Files Modified
  - src/commands/add.rs:160-377
    - Add cache update collection mechanism
    - Implement update_cache_with_packages() helper function
    - Integrate GitHub API priority logic with fallback
  Architecture
  GitHub API (Priority)
      â†“
  Latest Package Info
      â”œâ”€ Install Package
      â””â”€ Update Cache â†’ manifest-cache.json
           â†“
      Next Operation Uses Fresh Cache
  Error Handling
  - GitHub API failures gracefully fallback to cache
  - Cache update failures are logged but don't block installation
  - User receives clear notifications about data sources
  Version
  - Bump version: 0.3.1 â†’ 0.3.2
  ğŸ¤– Generated with Claude Code
  Co-Authored-By: Claude noreply@anthropic.com
  ğŸ“¦ ä¸‹è¼‰ / Downloads
  è«‹å¾ä¸‹æ–¹é¸æ“‡é©åˆæ‚¨ç³»çµ±çš„ç‰ˆæœ¬ä¸‹è¼‰ã€‚
  Please download the appropriate version for your system from below.
  ğŸ”’ æª”æ¡ˆæ ¡é©— / File Verification
  ä½¿ç”¨ SHA256SUMS æª”æ¡ˆé©—è­‰ä¸‹è¼‰çš„æª”æ¡ˆå®Œæ•´æ€§ã€‚
  Use the SHA256SUMS file to verify the integrity of downloaded files.
  ğŸ“ è‡ªå‹•ç”Ÿæˆçš„è®Šæ›´æ—¥èªŒ / Auto-generated Changelog
  Full Changelog: v0.3.1...v0.3.2
ReleaseNotesUrl: https://github.com/superyngo/Wenget/releases/tag/v0.3.2
ManifestType: defaultLocale
ManifestVersion: 1.10.0
