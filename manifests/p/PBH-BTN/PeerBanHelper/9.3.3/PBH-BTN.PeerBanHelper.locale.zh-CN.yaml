# Created with YamlCreate.ps1 Dumplings Mod
# yaml-language-server: $schema=https://aka.ms/winget-manifest.defaultLocale.1.12.0.schema.json

PackageIdentifier: PBH-BTN.PeerBanHelper
PackageVersion: 9.3.3
PackageLocale: zh-CN
Publisher: PBH-BTN Community
PublisherUrl: https://github.com/PBH-BTN
PublisherSupportUrl: https://github.com/PBH-BTN/PeerBanHelper/issues
PackageName: PeerBanHelper
PackageUrl: https://github.com/PBH-BTN/PeerBanHelper
License: GPL-3.0
LicenseUrl: https://github.com/PBH-BTN/PeerBanHelper/blob/HEAD/LICENSE
ShortDescription: 自动封禁不受欢迎、吸血和异常的 BT 客户端，并支持自定义规则。
Tags:
- bt
- 种子
ReleaseNotes: |-
  [!NOTE]
  我们正在更新隐私政策，您可以点击此处了解有关隐私政策的新更改。
  [!NOTE]
  由于数据库基础设施的重大更改，请在升级时保留充足的磁盘空间，以便进行数据库升级。升级过程不可中断。
  [!TIP]
  【Synology DSM】群晖用户请注意，由于原合作套件源矿神-SPK7 软件源计划停止服务，版本更新速度可能受影响且将在未来将关闭站点。请您添加 PBH-BTN SPK 源，以接替原矿神 SPK 源并继续通过套件中心获取更新：https://spk-repo.pbh-btn.com/nas 谢谢！
  重要修复
  - 修复在 Transmission 高版本（支持 PeerID 信息）上，Peer ID 值读取不正确的问题。这会影响反吸血模块的正常运行 @Ghost-chu
  - 修复了 v9.3.2 v9.3.1 上不同程度的数据库问题
  新功能
  您可以点击这里查看 v9.3.0 的详细更新内容
  - 对 H2、MySQL、PostgreSQL（预览版）数据源支持 @Ghost-chu @Gaojianli @paulzzh @guohu7777
    - 针对信创和国产处理器架构设备，若 SQLite 无法在您的设备上运行，请考虑切换到 H2 或者 MySQL/PostgreSQL
    - Postgres 的支持暂不可用
  -【Synology DSM】新增 DSM 套件中心套件源，以接替正在关闭的矿神 SPK 源，以便继续通过套件中心提供更新 @Ghost-chu
  -【Linux/Debian】新增 Debian apt 软件包管理器源，以提供更简单的 deb 软件包安装方式 @Ghost-chu
  - 为 PeerBanHelper 启动添加预启动页面，WebUI 端口在启动过程中将显示日志信息以便确认启动情况，并在启动结束后自动跳转 WebUI @Ghost-chu
  错误修复
  - 修复 debian 配置文件滞后 @paulzzh
  - 修复 pbh 无法正常退出 @paulzzh
  - 修复 sqlite 的各类 BanWave 触发 Watchdog / SQLITE_BUSY / database is locked 等等问题 @paulzzh
  - (v9.3.2) 修复 BTN 错误信息占位符故障 @XiaoBu39
  - (v9.3.1) 修复安全漏洞 @Ghost-chu
  - (v9.3.1) 拆分了长/频繁写操作为更短更快的小查询 @Ghost-chu
  - (v9.3.1) 修复 GeoCN 数据库执行查询操作时，如果 MMDB 提供了部分字段的空值数据，则可能引发空指针异常的问题 @Ghost-chu
  - (v9.3.1) 修复了正式版报告测试版警告的问题 @Ghost-chu
  改进
  - 提升了 OOBE 的安全性 @Ghost-chu
  - 未启用 AutoSTUN 时不进行网关扫描 @paulzzh
  - 改善 PeerRecording 查询 @paulzzh
  - 引入 p6spy 监测慢查询 @Ghost-chu
  - (v9.3.2) 更换数据库连接池为 BeeCP @Ghost-chu
  - (v9.3.2) 将 PeerRecording 删除任务切分为小段，并在后台执行清理工作，避免长查询导致封禁操作卡死 @Ghost-chu
  - (v9.3.1) 进度反作弊模块现在在单 IP 解除封禁时，不再同时重置网段统计数据，以优化反吸血效果 @Ghost-chu
  BTN 网络
  近期 BTN 网络处于高负载状态，由于服务器已超过最大承载能力，当前 BTN 服务可能不稳定或不可用。我们正在着手解决该问题，但可能需要一段时间。
  Docker
  DockerHub: ghostchu/peerbanhelper:v9.3.3
  阿里云国内镜像加速：registry.cn-hangzhou.aliyuncs.com/ghostchu/peerbanhelper:v9.3.3

  部署教程 | 常见问题 | 如何设置下载器
ReleaseNotesUrl: https://github.com/PBH-BTN/PeerBanHelper/releases/tag/v9.3.3
Documentations:
- DocumentLabel: Wiki
  DocumentUrl: https://github.com/PBH-BTN/PeerBanHelper/wiki
ManifestType: defaultLocale
ManifestVersion: 1.12.0
