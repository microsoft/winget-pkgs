# Created with YamlCreate.ps1 Dumplings Mod
# yaml-language-server: $schema=https://aka.ms/winget-manifest.defaultLocale.1.12.0.schema.json

PackageIdentifier: viarotel.Escrcpy
PackageVersion: 2.4.1
PackageLocale: en-US
Publisher: viarotel
PublisherUrl: https://viarotel.eu.org/
PublisherSupportUrl: https://github.com/viarotel-org/escrcpy/issues
PackageName: Escrcpy
PackageUrl: https://github.com/viarotel-org/escrcpy
License: Apache-2.0
LicenseUrl: https://github.com/viarotel-org/escrcpy/blob/main/LICENSE
Copyright: Copyright (C) 2026 viarotel
ShortDescription: Graphical Scrcpy to display and control Android, devices powered by Electron.
Tags:
- adb
- android
- capture
- cast
- casting
- mirror
- mirroring
- mobile
- phone
- record
- scrcpy
- screen
- screen-mirroring
ReleaseNotes: |-
  2.4.1 (2026-02-26)
  This release consolidates major architectural upgrades, a fully redesigned terminal system, wireless connectivity improvements, Fastboot support, and extensive stability fixes.

  ‚ú® Features
  Fastboot Support
  - Added Fastboot command support.
  - Experimental integration of scrcpy dependencies for Linux ARM64 platforms.
  Built-in Terminal System (xterm-based)
  - Fully migrated to an embedded terminal powered by xterm.
  - Added interactive shell support.
  - Improved terminal styling and scrollbar appearance.
  - Enhanced resize handling, rendering stability, and cursor synchronization.
  - Implemented terminal session retention and lifecycle management.
  - Unified shell error handling and lazy-loading logic.
  - Prioritized pwsh.exe on Windows.
  - Filtered ANSI color codes for Windows PowerShell.
  - Standardized UTF-8 encoding (removed Windows-specific encoding logic).
  - Terminal title now supports dynamic i18n updates.
  Wireless Connectivity Enhancements
  - Added wireless connection mode toggle.
  - Improved wireless pairing flow and UI.
  - Added pairing success notifications.
  - Simplified wireless connection interface.
  File & Device Management
  - Added drag-and-drop file upload support.
  - Improved download and upload progress tracking (throttled callbacks).
  - Optimized device query and control window behavior.
  - Enhanced ADB keyboard installation and detection.
  - Improved ADB keyboard error handling.
  - Updated API endpoints and enabled ADB keyboard by default.
  - Added macOS gnirehtet path support.
  Window Management Improvements
  - Support manual window position and size configuration.
  - Improved window bounds persistence logic.
  - Optimized tray and minimized window handling.
  - Replaced native window controls with application header controls.
  - Exposed $platform to global and window contexts.
  - Improved control bar height consistency.
  UI & UX Enhancements
  - Added ‚ÄúScroll to Bottom‚Äù button in chat.
  - Updated primary theme color.
  - Improved scrollbar styling with Tailwind CSS.
  - Updated terminal tip color to custom RGB.
  - Trigger language change callback immediately on initialization.

  üêõ Bug Fixes
  Portable & Initialization
  - Fixed language detection issue in portable builds.
  - Reorganized initialization order to load store before processing configuration.
  Windows Terminal Stability
  - Resolved Windows binary execution issues related to process termination.
  - Unified Windows line-ending handling across scenarios.
  - Fixed terminal encoding inconsistencies.
  - Improved PowerShell compatibility.
  - Fixed cursor sync and resize instability.
  - Improved shell detection logic.
  - Fixed dynamic terminal title language updates.
  - Improved terminal exit and error state recovery.
  Internationalization
  - Fixed i18n race conditions.
  - Resolved missing and incorrect translation keys.
  - Updated terminal locale strings.
  General Fixes
  - Fixed clipboard tag type handling.
  - Fixed preview button visibility issues.
  - Corrected device payload handling and control bar height logic.
  - Improved process termination error handling.
  - Cleaned up redundant debug logs and legacy code paths.

  üöÄ Performance Improvements
  - Optimized ADB keyboard installation and detection workflow.
  - Improved process termination efficiency.
  - Optimized minimized tray behavior.
  - Reduced redundant progress update calls during file transfers.

  üèó Architectural Refactoring
  This version includes a major Electron architecture overhaul.
  Electron Main Process Reconstruction
  - Rebuilt main process architecture.
  - Migrated to a modular service system based on explicit app.use.
  - Introduced priority-based plugin registration.
  - Standardized official plugin structure.
  - Migrated IPC handling to ipcx.
  - Centralized PATH setup and environment configuration.
  Module & Directory Restructuring
  - Reconstructed multi-entry directory structure.
  - Refactored core helpers, window management, and terminal modules.
  - Restructured process helpers and Electron utilities.
  - Migrated services and modules into plugin-based architecture.
  - Reorganized copilot and explorer modules.
  Terminal System Refactor
  - Extracted terminal logic into a dedicated useTerminal hook.
  - Implemented provider-based terminal session management.
  - Unified shell execution through a dedicated helper.
  - Standardized terminal lifecycle and cleanup handlers.
  Dependency & Build Adjustments
  - Integrated node-pty into Electron build.
  - Replaced args-tokenizer with shell-quote.
  - Replaced legacy packaging flags with import.meta.env.MODE.
  - Migrated to electron-setup package.
  - Moved i18next-fs-backend to production dependencies.
  Codebase Cleanup & Standardization
  - Removed deprecated modules and legacy middleware.
  - Removed Windows-specific encoding defaults.
  - Unified module export patterns.
  - Simplified window types and returned native BrowserWindow.
  - Cleaned up unused styles, logs, and redundant configuration.
  - Standardized control bar configuration.
  - Reorganized process helper directory structure.
ReleaseNotesUrl: https://github.com/viarotel-org/escrcpy/releases/tag/v2.4.1
ManifestType: defaultLocale
ManifestVersion: 1.12.0
