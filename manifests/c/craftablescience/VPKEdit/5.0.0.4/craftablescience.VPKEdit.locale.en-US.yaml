# Created with komac v2.14.0
# yaml-language-server: $schema=https://aka.ms/winget-manifest.defaultLocale.1.10.0.schema.json

PackageIdentifier: craftablescience.VPKEdit
PackageVersion: 5.0.0.4
PackageLocale: en-US
Publisher: craftablescience
PublisherUrl: https://github.com/craftablescience
PublisherSupportUrl: https://github.com/craftablescience/VPKEdit/issues
PackageName: VPKEdit
PackageUrl: https://github.com/craftablescience/VPKEdit
License: MIT
LicenseUrl: https://github.com/craftablescience/VPKEdit/blob/HEAD/LICENSE
ShortDescription: A library and CLI/GUI tool to create, read, and write several pack file formats.
Tags:
- cpp
- source
- source-engine
- source2
- source2-engine
- vpk
- vpk-editor
ReleaseNotes: |-
  VPKEdit 5.0 is coming soon! It brings with it a bunch of bug fixes and features. I want to delay the proper release to add more features and properly test everything that's changed, so in the meantime here's a beta release.
  Tip
  Read the install guide for assistance installing VPKEdit.
  Note
  Changes made in this beta have an exclamation mark emoji (❗) and old changes may be struck out and replaced where applicable. This changelog is a collection of every beta release up to this point and will continue to be appended to until the final release.
  General Changes
  - Add macOS as a supported platform (thanks @Charles-Bao and @EricZhang456!)
    - ❗Change macOS code signing process to reduce install friction
  - Update logo to New VPKEdit logo from Old VPKEdit logo
    - Add 16x16 variant for better scaling (thanks to The Pixel for the design!)
  - ❗Add create/read/write support for FGP pack file format
  - Add read/write support for SiN (SIN) pack file format
  - Add read support for Xbox Zip (XZP) pack file format
  - ❗Add read support for Xbox Zip v2 (XZP2) pack file format
  - ❗Fix baking PAK/SIN formats by ensuring directory is written to the end of the file and filenames are always null-terminated
  - ❗Accelerate BSP/XZP2/ZIP read/write times by 3x in uncompressed scenarios
  - Properly set RPATH on Linux for standalone builds
  - Fix GCF checksum verification algorithm
  - Add support for parsing contents of encrypted GCFs
  GUI Changes
  - ❗Greatly accelerate pack file load time
    - ❗In my Windows 10 VM the speedup was 20x, but I have heard reports of lower end systems which took minutes to open certain pack files now opening them near instantly
  - Create a plugin system to be able to load new previews not packaged with the program at runtime
    - ❗Add plugin information dialog to show metadata of active plugins
    - Migrate DMX and MDL previews to new plugin system
    - ❗Migrate ICE encyption context menu entries to VCrypt plugin
  - Qt updates
    - Upgrade to Qt 6.8.3 on Windows
    - Use system Qt for Linux installers (third-party vendors are already doing this)
      - Fixes system themes being inaccessible
    - U̶p̶g̶r̶a̶d̶e̶ ̶t̶o̶ ̶Q̶t̶ ̶6̶.̶8̶.̶2̶ ̶f̶o̶r̶ ̶s̶t̶a̶n̶d̶a̶l̶o̶n̶e̶ ̶L̶i̶n̶u̶x̶ ̶b̶u̶i̶l̶d̶s̶ Rolled back after bugs with Qt on some distros
  - Improve translations
    - Add Vietnamese translation
    - ❗Add Slovenian translation
    - Update Japanese translation
    - Update Spanish translation
  - Fix pack file name possibly being renamed to a translated text in the status bar
  - Delay deletion of temporary files to when the program closes
  - Reorganize About dialog
    - ❗Fix being unable to click any links in the About dialog
  - ❗Add "Mark Modified" button to mark the current pack file as savable without editing the contents
  - Fix possibility of Steam library icons not being populated
    - Used to use a heuristic, now it parses assetcache.vdf directly
  - ❗Fix Steam library icons not being populated if the user had used multiple languages for their Steam install
  - ❗Search bar now uses a regex filter instead of a keyword search
  - ❗Apply contents of search bar automatically when the contents change instead of requiring an Enter keypress
  - ❗Add basic sort capability to folder preview to allow sorting the table by a given column
  - Fix top of text preview blocking mouse input
  - Add .vint_doc and .vint_proj to text preview
  - Add .qoi to image preview
  - Stop crashing when given a DMX file that fails to parse
  - Stop listing elements at the root of a DMX file if it has been referenced in a different element previously
  - ❗DMX preview now shows attributes inline with the element contents similar to KV2's structure
  - ❗DMX preview can now handle legacy binary versions, newer Source 2 versions
    - ❗DMX preview can now handle srctools' Unicode formats (thanks @TeamSpen210!)
  - ❗Show a preview for ICE and VFONT-encrypted files hinting at decryption support
  - ❗Add .ekv as a registered extension for VCrypt ICE encryption/decryption support
  - ❗Add support for VFONT encryption/decryption to VCrypt plugin
  - Explicitly set GLSL profile in shaders to fix model preview breaking on some machines (thanks @Exotic0015!)
  - Parse patch materials to find $basetexture in MDL preview
  - Add support for $translucent, $alphatest, and $alphatestreference to MDL preview renderer
  - Use strictly core OpenGL 3.3 profile features in MDL preview's renderer
    - ❗Fix usage of some compatibility features in the shaders. This fixes models rendering pure black on NVidia hardware, thank you @normalpersonininternet and @lenship2 for testing!
  - Add panning to texture preview (thanks @JJL772!)
  - Add a more natural zoom curve to texture preview
  - Add support for .xtf textures (from Half-Life 2's Xbox port) to texture preview
  - ❗Fix texture preview not previewing mip levels below 4x4 correctly
  - Modify cursor to grabby hand when panning or rotating in MDL preview and texture preview
  - Fix DXT1 textures with punchthrough alpha not being treated as having alpha in texture preview
  - Remove VTF mimetype on Linux now that MareTF is a better VTF viewer (thanks @HurricanePootis!)
  - Remove audio preview (it will be replaced in a future beta, it was simply too buggy to keep)
  - Double-clicking entries in the entry tree will now open that file in the associated external program
    - ❗Fix this behavior on Windows
  - Use Ko-fi logo for donation menu action
  - More to come...
  CLI Changes
  - Allow the editing commands (add/remove file/directory) to be repeated
  - Implement response file support (thanks @sour-dani!)
  Installer Changes
  - Add Fedora and Fedora-based distro support (RPM installer)
  - Add macOS support (DMG installer)
  - Stop shipping the Qt image format plugins on Windows and in standalone builds, they are not needed anymore
  - Bake Qt base translations into the executable rather than installing as unpacked files
  - Become a more normal application on Linux - depend on system Qt, install to /usr/bin instead of /opt, and start following convention
    - Standalone builds are unchanged
  - Merge standalone CLI and GUI builds into one zip, should make install process slightly easier to figure out
  - Fix program icon install directory on Linux + some mimetypes being incorrectly formatted (thanks @HurricanePootis!)
  - ❗Fix GMA mimetype on Linux
ReleaseNotesUrl: https://github.com/craftablescience/VPKEdit/releases/tag/v5.0.0.4
ManifestType: defaultLocale
ManifestVersion: 1.10.0
