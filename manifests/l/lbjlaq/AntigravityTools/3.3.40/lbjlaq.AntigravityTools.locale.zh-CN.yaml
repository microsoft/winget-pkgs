# Created with YamlCreate.ps1 Dumplings Mod
# yaml-language-server: $schema=https://aka.ms/winget-manifest.defaultLocale.1.12.0.schema.json

PackageIdentifier: lbjlaq.AntigravityTools
PackageVersion: 3.3.40
PackageLocale: zh-CN
Publisher: lbjlaq
PublisherUrl: https://github.com/lbjlaq
PublisherSupportUrl: https://github.com/lbjlaq/Antigravity-Manager/issues
PackageName: Antigravity Tools
PackageUrl: https://github.com/lbjlaq/Antigravity-Manager
License: CC-BY-NC-SA-4.0
LicenseUrl: https://github.com/lbjlaq/Antigravity-Manager/blob/HEAD/LICENSE
ShortDescription: 专业的 Antigravity 账号管理与切换工具。为 Antigravity 提供一键无缝账号切换功能。
Description: |-
  Antigravity Tools 是一个专为开发者和 AI 爱好者设计的全功能桌面应用。它将多账号管理、协议转换和智能请求调度完美结合，为您提供一个稳定、极速且成本低廉的 本地 AI 中转站。
  通过本应用，您可以将常见的 Web 端 Session (Google/Anthropic) 转化为标准化的 API 接口，彻底消除不同厂商间的协议鸿沟。
ReleaseNotes: |-
  API 400 错误深度修复 (Grep/Thinking 稳定性改进):
  修复流式块顺序违规：彻底解决了 "Found 'text' instead of 'thinking'" 400 错误。修正了 streaming.rs 中在文字块后非法追加思维块的逻辑，改由缓存机制实现静默同步。
  思维签名自愈增强：在 claude.rs 中扩展了 400 错误捕获关键词，覆盖了签名失效、顺序违规和协议不匹配场景。一旦触发，代理会自动执行消息降级并快速重试，实现用户无感知的异常自愈。
  搜索工具参数深度对齐：修正了 Grep 和 Glob 工具的参数映射逻辑，将 query 准确映射为 path (Claude Code Schema)，并支持默认注入执行路径 .。
  工具名重映射策略优化：改进了重命名逻辑，仅针对 search 等模型幻觉进行修正，避免破坏原始工具调用签名。
  签名缺失自动补完：针对 LS、Bash、TodoWrite 等工具调用缺失 thought_signature 的情况，自动注入通用校验占位符，确保协议链路畅通。
  架构健壮性优化：
  增强了全局递归清理函数 clean_cache_control_from_messages，确保 cache_control 不会干扰 Vertex AI/Anthropic 严格模式。
  完善了错误日志系统，建立了详细的场景对照表并记录于 docs/client_test_examples.md。
ReleaseNotesUrl: https://github.com/lbjlaq/Antigravity-Manager/releases/tag/v3.3.40
ManifestType: defaultLocale
ManifestVersion: 1.12.0
