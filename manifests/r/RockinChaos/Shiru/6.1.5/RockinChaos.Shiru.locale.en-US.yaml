# Created with komac v2.11.2
# yaml-language-server: $schema=https://aka.ms/winget-manifest.defaultLocale.1.9.0.schema.json

PackageIdentifier: RockinChaos.Shiru
PackageVersion: 6.1.5
PackageLocale: en-US
Publisher: RockinChaos
PublisherUrl: https://github.com/RockinChaos/Shiru
PublisherSupportUrl: https://github.com/RockinChaos/Shiru/issues
Author: RockinChaos
PackageName: Shiru
PackageUrl: https://github.com/RockinChaos/Shiru
License: GPL-3.0
LicenseUrl: https://github.com/RockinChaos/Shiru/blob/HEAD/LICENSE
Copyright: Copyright © 2025 RockinChaos
ShortDescription: BitTorrent streaming software with no paws in the way—watch anime in real-time, no waiting for downloads!
Description: |-
  A pure JS BitTorrent streaming environment, with a built-in list manager.
  Imagine qBit + Taiga + MPV, all in a single package, but streamed real-time.
  Completely ad free with no tracking/data collection.
  This app is meant to feel, look, work and perform like a streaming website/app, while providing all the advantages of torrenting, like file downloads, higher download speeds, better video quality and quicker releases.
  Unlike qBit's sequential approach, seeking into data that hasn't been downloaded yet will prioritise downloading that data, instead of simply closing MPV.
  Designed to be a similar experience to using a streaming website with functionality akin to MALSync and AniSkip.
Tags:
- anime
- streaming
- torrent
ReleaseNotes: |-
  - feat: macOS arm64 codecs
    - Huge thanks to @Shockshwat for making this possible by writing the codec patches and providing the patched electron build. This takes quite a long time, so it is greatly appreciated!
  - feat: torrent management
    - Massive improvement to torrent handling and allows the user to manage their torrents.
    - Support for pre-downloading, seeding, and untracking torrents.
    - Pre-downloaded torrents now load INSTANTLY.
    - Torrent cards in the torrent menu now visualize what you are currently playing, seeding, pre-downloading, and completed.
    - Support for playing pre-downloaded torrents offline.
    - Pre-downloading will be disabled if the seeding limit is set to 1 AND persist files is disabled.
    - Separate libraries for each profile.
    - Support for rescanning the existing cache.
  - feat: video file manager
    - Adds a button in the player to open the File Manager where you can view all playable files for the current torrent, manually adjust the resolved series if it's incorrect, as well as adjust the episode number of each file. This view can also be opened in the player via the H keybind.
    - Manual corrections made to an episode will have the corrections applied to the RSS episode card (if the file is the same).
    - When a currently playing file has failed to identify the media playing, a prompt will be shown letting the user know the currently playing media failed to be identified, asking if they want to fix it themselves or continue watching.
    - Torrent hashes and file hashes are now mapped to the resolved media, allowing for easy tracking of downloads.
    - Adds pre-download button to episode cards and notification cards.
    - Now automatically plays the torrent if the matching series is found in the torrent files instead of prompting the torrent modal. This also overrides the RSS feed magnets, unless that magnet is already mapped to a file.
  - feat: auto-complete threshold
    - You can now set a custom auto-complete threshold percentage of an episode for the player.
    - This fixes inconsistencies with auto-completion, especially with episodes less than 180 seconds, which would be marked as auto-complete as soon as they were loaded. It's better to use a percentage instead.
  - feat: chapter source preference
    - Allows you to choose which preferred chapter source to use during video playback. If one source is unavailable (missing chapters) then another source will be chosen until chapters are found (if any).
  - feat: Chapter Source player selection
    - You can quickly swap between chapter sources in the player to view what is available.
  - feat: watched episodes label
    - Small, full, and detail cards will now show your current episode progress.
  - fix: Android external player
    - The streamURL contained invalid characters, causing the intent to fail.
  - fix: validate skippable chapters
    - Chapters will now be invalidated if they exceed 180 seconds in duration. If a skippable chapters duration is longer than this its likely invalid, (mistake by release group).
  - fix: dubbed airing schedule episode range
    - Properly uses the correct episode range when a batch of episodes is dropping.
  - fix: use dub airdate when sub is missing
    - Improves batch episode airdates by using the dub airdate when the sub airdate is missing. In these cases, it is highly likely sub and dub were released at the same time.
  - fix: don't show schedule in anime details
    - A bug where viewing anime details while on the schedule page would occasionally have media in relations or recommendations showing their schedule outside of the schedule page.
  - fix: torrent result loading
    - Fixes an infinite skeleton card showing when there is no best result. Typically occurred when the best result was filtered into the unseeded category.
  - fix: playing unresolved media (offline)
    - Fixes playing already downloaded media that hasn't been resolved.
    - Improves title and episode descriptors for offline media.
  - fix: verifying against synonyms
    - Fixes I Was Reincarnated as the 7th Prince so I Can Take My Time Perfecting My Magical Ability Season 2 resolving.
  - fix: New PANTY & STOCKING and New Saga resolving
    - Prince of Tennis resolver fix was interfering with PANTY & STOCKING as well as New Saga and NEW GATE, etc.
  - fix: SAKAMOTO DAYS Part 2 resolving
    - Anilist changed the series to an ONA even though it's not...
  - fix: NEET Kunoichi resolving
    - Fixes the usage of poor Engrish (ToonsHub).
  - fix: resolving Rascal Does Not Dream of Santa Claus (primarily dubs)
    - English release groups were incorrectly listing the parent name + S02 instead of using the correct title like SubsPlease.
  - fix: search caching
    - Clicking sections on the home page would result in them being incorrectly cached. Upon restarting the app the search page would return an error.
    - Home section searches and image searches are no longer cached. You will be returned to the previous valid cache on app restart.
  - fix: airing schedule countdown
    - Fixes schedule updater missing the 1-minute delay, resulting in accidental rapid updates.
    - Fixes the countdown dropping off once it reaches 0 minutes. It will now display a reverse countdown stating "out for" until the page is reloaded.
    - Visual indicators will now be shown for currently "airing" series.
  - fix: incorrectly detecting episode in title
    - The currently playing episode number was being incorrectly hidden when attempting to detect matching episode numbers in the episode title.
  - fix: incorrectly showing aired episode as unaired
    - Fixes the description of the first episode card to show the description rather than its predicted airing date after the series has already started airing.
  - fix: series being removed from custom lists
    - Fixes series being removed from custom lists on Anilist when using the list editor or watching an episode.
  - fix: custom soft modal escape key
    - Fixes the escape key not functioning to close the custom modals (without having to click the modal first).
  - fix: soft modal causing elements to jump
    - Prevents background elements from jumping when the model is toggled.
  - fix: showing unseeded results during filter
    - Unseeded results will now be properly hidden when there are no filtered results.
  - fix: Android tapping episode card
    - Using touch to activate the episode card preview was failing to play the episode when your progress was less than expected.
    - The episode card will now properly display your current progress if you are behind, which can be bypassed with a secondary tap.
  - fix: android webtorrent reload
    - WebTorrent wasn't being reloaded when prompted, resulting in misc errors and torrents not swapping with profiles.
  - fix: sections loading before airing schedule
    - Was causing issues with the continue watching section showing series that do not have new episodes available yet on initial startup.
  - fix: macOS traffic lights
    - Better transparent frame for controls.
    - Now properly hides the window controls frame when in full screen.
    - Logo icon location is now properly adjusted based on screen size.
  - fix: angle settings
    - Fixes a stupid typo preventing the angle from changing.
    - Syncs up changes for the angle setting between profiles and when settings are reset.
  - fix: broken cover images
    - Introduces a placeholder image.
  - fix: using player keybinds in anime details
    - Now properly limits what keybinds are allowed when viewing the anime details, which currently should only allow the keybind for toggling the anime details.
  - fix: media list restructure
    - Fixes a very rare bug where a media exists but has null data.
  - fix: hide preview images for planning
    - current, repeating, paused, and planning preview images for episode cards will be hidden.
  - fix: undefined card in the releases section
    - Filters out undefined media from the releases section. The only time media will ever be undefined is when the media is adult and the adult setting is disabled, or the media is hentai and the hentai setting is disabled.
  - fix: more chapter edge cases
    - Lazy chapters being used that accidentally have negative values are now converted to a positive value, and assumed this is the correct start/end time.
    - Removes some weird code that was always adding null after the end chapter...
  - fix: loading Nyaa Android extension
    - Implements a bypass forwarding fetch to the main thread on Android when #validate() fails for trusted extensions.
  - fix: android keyboard covering input boxes
    - Fixes an issue with input/text boxes being behind the keyboard when typing.
  - fix: incorrect section grab cursor
  - fix: null media edge case
  - chore: improve player immersion
    - Fixes weird edge cases causing the player to immerse faster than it should.
    - Changes how the immersion transition is handled, making it more user-intuitive.
  - chore: improve player progress
    - Heavily improves the tracking of how far into an episode of a series you have played by increasing the caching speed and caching when pausing or seeking.
    - Tracking a series that failed to resolve is now possible by tracking the parsed anime title or the file name being played.
  - chore: improve settings ui
    - Miniplayer now has proper spacing depending on its location.
  - chore: better displaying of ranged episodes
    - Improves the display of ranged episodes on Episode Cards, hides card images and synopsis if you haven't watched the "last" episode in the range.
  - chore: better audio label reactivity
    - Implements better tracking of the audio label, primarily for currently releasing series.
    - Forces a re-render of the currently watching section when new dub or subbed episodes are detected.
  - chore: modified prefer dubs
    - Prefer dubs will now only function so long as your current progress is not greater than the last released dub episode. If your progress exceeds this, it will be assumed that you are watching the series subbed.
ReleaseNotesUrl: https://github.com/RockinChaos/Shiru/releases/tag/v6.1.5
ManifestType: defaultLocale
ManifestVersion: 1.9.0
